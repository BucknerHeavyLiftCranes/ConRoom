const dbConfig = {
    user: process.env.DB_USER,
    password: process.env.DB_PASSWORD,
    server: process.env.DB_SERVER,
    database: process.env.DB_NAME,
    port: parseInt(process.env.DB_PORT) || 1433,
    options: {
        encrypt: true, // Use encryption
        trustServerCertificate: true, // Use trustServerCertificate based on the environment
    },
}

//manage users vs admins

function authorizeRoles(...allowedRoles) {
    return (req, res, next) => {
        if (!allowedRoles.includes(req.user.role) && req.user.role !== 'admin') {
            res.status(403)
            throw new Error('You do not have permission to access this resource.');
        }
        next();
    };
}